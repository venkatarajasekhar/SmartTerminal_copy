

语音部分说明

ADC  采集语音信息
TIM2 中断的频率是8khz，用于控制AD的采样率
TIM3 中断的频率是8khz，用于控制PWM输出的频率

TIM8 是用于产生PWM来模拟DA


EncoderAPI 是关于语音压缩的，压缩后放在一个缓冲区了，这是发送一个邮箱出去
DecoderAPI 是解码部分，等待邮箱如果为1或2 表示是缓冲区播放完一个了PWM请求解码，其他则为收到的压缩语音数据

Encoder：
通过在TIM2中断中把AD的值放到缓冲区中，当缓冲区满了，会发送时间通知线程可以进行压缩了，线程通过调用read进行压缩并输出压缩的语音数据
这时线程取得空邮箱，把数据发送到串口发送出去。
Encoder受到keyboard的PPT键控制打开和关闭

Decoder：
在串口收到压缩的语音数据后会把数据copy到Decoder的缓冲区中，并发送邮件通知线程有压缩的语音数据到来让线程打开Decoder设备准备
解压并播放。
这时已经启动Decoder设备，就会定时产生事件通知线程没有数据播放了，要求线程解压语音到指定的缓冲区。